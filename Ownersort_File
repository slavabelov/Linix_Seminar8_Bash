#Создать скрипт ownersort.sh, который в заданной папке копирует файлы в директории, названные по имени владельца каждого файла.
#Учтите, что файл должен принадлежать соответствующему владельцу.

#!/bin/bash

# Проверка передачи аргумента - пути к директории с первого скрипта

if [ $# -ne 1 ]; then

  echo "Ошибка: необходимо указать путь к директории!"

  exit 1

fi

# Проверка на существование указанной директории с первого скрипта

if [ ! -d "$1" ]; then

  echo "Ошибка: директория не существует!"

  exit 1

fi

# Создание директорий с именами владельцев файлов

find "$1" -type f -exec bash -c 'mkdir -p "${1%/*}/$(stat -c %U "$1")"' _ {} ;

# Копирование файлов в директории, названные по имени владельца

find "$1" -type f -exec bash -c 'cp "$1" "${1%/*}/$(stat -c %U "$1")/"' _ {} ;

echo "Копирование файлов успешно завершено!"
